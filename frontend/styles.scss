@use "sass:color";

@tailwind base;
@tailwind components;
@tailwind utilities;

// ========================================
// ğŸ¨ è¨­è¨ˆç³»çµ± - é¡è‰²å¸¸æ•¸
// ========================================

// ä¸»è‰²èª¿
$color-primary: #2563eb;          // ä¸»è¦è—è‰²
$color-primary-light: #3b82f6;
$color-primary-dark: #1e40af;
$color-primary-darker: #1e3a8a;

// å¼·èª¿è‰²
$color-accent: #d4af37;           // é‡‘è‰²
$color-accent-light: #f4d03f;
$color-accent-dark: #b8a082;

// æ·ºè‰²æ¨¡å¼
$bg-light: #f8fafc;               // ä¸»èƒŒæ™¯ï¼ˆæ›´æ·±çš„ç°ç™½ï¼‰
$bg-light-secondary: #f1f5f9;     // æ¬¡è¦èƒŒæ™¯
$bg-light-card: #ffffff;          // å¡ç‰‡èƒŒæ™¯
$text-light-primary: #0f172a;     // ä¸»è¦æ–‡å­—ï¼ˆæ›´æ·±ï¼‰
$text-light-secondary: #334155;   // æ¬¡è¦æ–‡å­—
$text-light-muted: #64748b;       // å¼±åŒ–æ–‡å­—
$border-light: #e2e8f0;           // é‚Šæ¡†

// æ·±è‰²æ¨¡å¼
$bg-dark: #0f172a;                // ä¸»èƒŒæ™¯
$bg-dark-secondary: #1e293b;      // æ¬¡è¦èƒŒæ™¯
$bg-dark-card: #1e293b;           // å¡ç‰‡èƒŒæ™¯
$text-dark-primary: #f1f5f9;      // ä¸»è¦æ–‡å­—
$text-dark-secondary: #cbd5e1;    // æ¬¡è¦æ–‡å­—
$text-dark-muted: #94a3b8;        // å¼±åŒ–æ–‡å­—
$border-dark: #334155;            // é‚Šæ¡†

// ç»ç’ƒæ…‹æ•ˆæœ
$glass-light: rgba(255, 255, 255, 0.85);
$glass-dark: rgba(30, 41, 59, 0.85);

// é™°å½±
$shadow-sm: 0 2px 8px rgba(15, 23, 42, 0.08);
$shadow-md: 0 4px 16px rgba(15, 23, 42, 0.12);
$shadow-lg: 0 8px 32px rgba(15, 23, 42, 0.16);
$shadow-xl: 0 16px 48px rgba(15, 23, 42, 0.20);

// æ·±è‰²æ¨¡å¼é™°å½±
$shadow-dark-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
$shadow-dark-md: 0 4px 16px rgba(0, 0, 0, 0.4);
$shadow-dark-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
$shadow-dark-xl: 0 16px 48px rgba(0, 0, 0, 0.6);

// ========================================
// ğŸ“ å­—é«”ç³»çµ±
// ========================================

// å­—é«”å®¶æ—
$font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
$font-serif: 'Georgia', 'Times New Roman', 'Times', serif;
$font-mono: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Courier New', monospace;

// å­—é«”æ¬Šé‡
$font-normal: 400;
$font-medium: 500;
$font-semibold: 600;
$font-bold: 700;

// ========================================
// âš¡ å‹•ç•«èˆ‡éæ¸¡
// ========================================

$transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);
$transition-fast: 200ms;
$transition-normal: 300ms;
$transition-slow: 500ms;

// Base layer customizations
@layer base {
  * {
    @apply box-border;
  }

  body {
    margin: 0;
    min-height: 100vh;
    position: relative;
    
    // ä½¿ç”¨ Sans-serif ä½œç‚ºä¸»è¦å­—é«”ï¼ˆUI å…ƒç´ ï¼‰
    font-family: $font-sans;
    font-weight: $font-normal;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    
    // é¡è‰² - ä½¿ç”¨ SCSS å¸¸æ•¸
    background-color: $bg-light;
    color: $text-light-primary;
    
    transition: background-color $transition-normal $transition-smooth,
                color $transition-normal $transition-smooth;
    
    .dark & {
      background-color: $bg-dark;
      color: $text-dark-primary;
    }
    
    // èƒŒæ™¯è£é£¾æ•ˆæœ
    &::before {
      content: '';
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      background: 
        radial-gradient(circle at 10% 20%, rgba($color-primary, 0.04) 0%, transparent 40%),
        radial-gradient(circle at 90% 80%, rgba($color-accent, 0.03) 0%, transparent 40%);
      animation: float 20s ease-in-out infinite;
      
      .dark & {
        background: 
          radial-gradient(circle at 10% 20%, rgba($color-primary, 0.06) 0%, transparent 40%),
          radial-gradient(circle at 90% 80%, rgba($color-accent-light, 0.04) 0%, transparent 40%);
      }
    }
  }

  html {
    @apply scroll-smooth;
  }

  // è‡ªå®šç¾©æ»¾å‹•æ¢
  ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  ::-webkit-scrollbar-track {
    background: $bg-light-secondary;
    
    .dark & {
      background: $bg-dark-secondary;
    }
  }

  ::-webkit-scrollbar-thumb {
    background: $color-primary;
    border-radius: 6px;
    border: 2px solid transparent;
    background-clip: padding-box;
    
    &:hover {
      background: $color-primary-light;
    }
    
    .dark &:hover {
      background: $color-primary-dark;
    }
  }

  // Firefox æ»¾å‹•æ¢
  * {
    scrollbar-width: thin;
    scrollbar-color: $color-primary $bg-light-secondary;
    
    .dark & {
      scrollbar-color: $color-primary-light $bg-dark-secondary;
    }
  }

  // é¸æ“‡æ–‡å­—æ¨£å¼
  ::selection {
    background: linear-gradient(135deg, $color-primary, $color-primary-dark);
    color: white;
  }
}

// Component layer customizations
@layer components {
  // æ–‡ç« å…§å®¹æ¨£å¼ï¼ˆä½¿ç”¨ Serif å­—é«”ä»¥ç²å¾—æ›´å¥½çš„é–±è®€é«”é©—ï¼‰
  .prose-custom {
    max-width: none;
    font-family: $font-serif;
    color: $text-light-secondary;
    line-height: 1.8;
    
    .dark & {
      color: $text-dark-secondary;
    }
    
    // æ¨™é¡Œä½¿ç”¨ Sans-serif ä»¥ä¿æŒæ¸…æ™°
    h1, h2, h3, h4 {
      font-family: $font-sans;
      font-weight: $font-bold;
      color: $text-light-primary;
      margin-top: 2.5rem;
      margin-bottom: 1.25rem;
      line-height: 1.3;
      letter-spacing: -0.02em;
      
      .dark & {
        color: $text-dark-primary;
      }
    }
    
    h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      border-bottom: 2px solid $border-light;
      padding-bottom: 1rem;
      
      .dark & {
        border-bottom-color: $border-dark;
      }
    }
    
    h2 {
      font-size: clamp(1.75rem, 4vw, 2.5rem);
      border-bottom: 1px solid $border-light;
      padding-bottom: 0.75rem;
      
      .dark & {
        border-bottom-color: $border-dark;
      }
    }
    
    h3 {
      font-size: clamp(1.5rem, 3vw, 2rem);
    }
    
    h4 {
      font-size: clamp(1.25rem, 2.5vw, 1.75rem);
    }
    
    p {
      margin-bottom: 1.5rem;
      font-size: 1.125rem;
      line-height: 1.8;
      text-align: justify;
    }
    
    a {
      color: $color-primary;
      text-decoration: underline;
      text-underline-offset: 4px;
      transition: color $transition-fast $transition-smooth;
      
      .dark & {
        color: $color-primary-light;
      }
      
      &:hover {
        color: $color-primary-dark;
        
        .dark & {
          color: $color-accent-light;
        }
      }
    }
    
    // Inline code
    code {
      font-family: $font-mono;
      font-size: 0.9em;
      font-weight: $font-medium;
      background: color.adjust($color-primary, $lightness: 45%);
      color: $color-primary-dark;
      padding: 0.25rem 0.5rem;
      border-radius: 6px;
      border: 1px solid color.adjust($color-primary, $lightness: 35%);
      box-shadow: $shadow-sm;
      
      .dark & {
        background: rgba($color-primary, 0.15);
        color: $color-primary-light;
        border-color: rgba($color-primary, 0.3);
        box-shadow: $shadow-dark-sm;
      }
    }
    
    // Code blocks
    pre {
      font-family: $font-mono;
      background: $bg-light-card;
      border: 1px solid $border-light;
      border-radius: 12px;
      padding: 1.5rem;
      margin: 2rem 0;
      overflow-x: auto;
      box-shadow: $shadow-lg;
      position: relative;
      
      .dark & {
        background: $bg-dark-card;
        border-color: $border-dark;
        box-shadow: $shadow-dark-lg;
      }
      
      // æ¼¸è®Šé ‚éƒ¨è£é£¾æ¢
      &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, $color-primary, $color-accent, $color-primary);
        opacity: 0.7;
      }
      
      code {
        background: transparent;
        border: none;
        padding: 0;
        box-shadow: none;
        color: $text-light-secondary;
        font-weight: $font-normal;
        
        .dark & {
          color: $text-dark-secondary;
        }
      }
    }
    
    // Blockquote
    blockquote {
      position: relative;
      margin: 2rem 0;
      padding: 1.5rem 2rem;
      padding-left: 3rem;
      background: $bg-light-card;
      border-left: 4px solid $color-primary;
      border-radius: 0 12px 12px 0;
      font-style: italic;
      font-size: 1.125rem;
      line-height: 1.75;
      color: $text-light-muted;
      box-shadow: $shadow-sm;
      
      .dark & {
        background: $bg-dark-card;
        color: $text-dark-muted;
        box-shadow: $shadow-dark-sm;
      }
      
      // å¼•è™Ÿè£é£¾
      &::before {
        content: '"';
        position: absolute;
        left: 1rem;
        top: 1rem;
        font-size: 4rem;
        line-height: 1;
        font-family: $font-serif;
        font-weight: $font-bold;
        opacity: 0.2;
        background: linear-gradient(135deg, $color-primary, $color-primary-darker);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
    }
    
    // Lists
    ul, ol {
      margin: 1.5rem 0;
      padding-left: 2rem;
      
      li {
        margin-bottom: 0.75rem;
        line-height: 1.75;
      }
    }
    
    ul {
      list-style-type: disc;
      
      li::marker {
        color: $color-primary;
      }
    }
    
    ol {
      list-style-type: decimal;
      
      li::marker {
        color: $color-primary;
        font-weight: $font-semibold;
      }
    }
  }

  // ========================================
  // ğŸªŸ ç»ç’ƒæ…‹æ•ˆæœ
  // ========================================
  .glass {
    background: $glass-light;
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: $shadow-md;
    
    .dark & {
      background: $glass-dark;
      border-color: rgba(255, 255, 255, 0.1);
      box-shadow: $shadow-dark-md;
    }
  }

  // ========================================
  // ğŸ¨ æ¼¸è®Šå·¥å…·é¡
  // ========================================
  
  // æ¼¸è®Šæ–‡å­—
  .gradient-text {
    background: linear-gradient(135deg, $color-primary, $color-primary-darker);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    
    .dark & {
      background: linear-gradient(135deg, $color-primary-light, $color-accent-light);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  }

  // æ¼¸è®Šé‚Šæ¡†
  .gradient-border {
    position: relative;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, $color-primary, $color-accent, $color-primary);
      opacity: 0.7;
    }
  }
  
  // æ¼¸è®ŠèƒŒæ™¯æŒ‰éˆ•
  .gradient-bg {
    background: linear-gradient(135deg, $color-primary, $color-primary-dark);
    transition: all $transition-normal $transition-smooth;
    
    &:hover {
      background: linear-gradient(135deg, $color-primary-light, $color-primary);
      transform: translateY(-2px);
      box-shadow: $shadow-lg, 0 0 30px rgba($color-primary, 0.3);
    }
  }
}

// Utility layer additions
@layer utilities {
  .animation-delay-100 {
    animation-delay: 0.1s;
  }
  
  .animation-delay-200 {
    animation-delay: 0.2s;
  }
  
  .animation-delay-300 {
    animation-delay: 0.3s;
  }
  
  .animation-delay-400 {
    animation-delay: 0.4s;
  }
  
  .animation-delay-500 {
    animation-delay: 0.5s;
  }
  
  .animation-delay-600 {
    animation-delay: 0.6s;
  }
}

